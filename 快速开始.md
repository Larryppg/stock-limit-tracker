# 🚀 快速开始指南

## 第一次使用（3步上手）

### Windows用户

1️⃣ **双击运行**
```
双击 run_mvp.bat 文件
```
脚本会自动：
- 检查Python环境
- 安装必要依赖
- 运行MVP流程（处理前50只股票，最近90天）
- 验证计算结果

⏱️ 预计耗时：5-10分钟

---

### Linux/Mac用户

1️⃣ **运行脚本**
```bash
chmod +x run_mvp.sh
./run_mvp.sh
```

---

## 查看结果

### 方法1: 启动Web界面（推荐）

```bash
streamlit run web_interface.py
```

浏览器会自动打开 http://localhost:8501

**Web界面功能**：
- 📊 市场概览（涨停统计、连板分布）
- 🔍 高连板查询（按日期筛选）
- 📈 个股分析（查询历史连板）
- 📉 历史统计（趋势图表）

---

### 方法2: Python代码查询

```python
from query_api import LimitQueryAPI

api = LimitQueryAPI()
api.connect()

# 查询最新日期的高连板股票
high_chain = api.query_high_chain_stocks('20240115', min_height=3)
print(high_chain)

api.close()
```

---

### 方法3: 查看导出的CSV文件

MVP运行完成后会生成：
- `sample_results.csv` - 包含所有连板数据的样本

用Excel或其他工具打开即可查看。

---

## 进阶使用

### 运行全量历史回填（2020年至今）

```bash
python main.py --mode backfill
```

⚠️ 注意：
- 会处理所有A股（5000+只股票）
- 预计耗时：2-4小时
- 需要稳定网络连接
- 会自动保存进度，可中断恢复

---

### 启动每日自动更新

```bash
python scheduler.py --mode start
```

调度器会：
- 每个交易日16:00自动更新
- 持续运行，按Ctrl+C停止
- 日志记录在`scheduler.log`

---

## 常用命令速查

| 功能 | 命令 |
|------|------|
| MVP验证 | `python main.py --mode mvp` |
| 算法测试 | `python main.py --mode test` |
| 全量回填 | `python main.py --mode backfill` |
| 每日更新 | `python main.py --mode daily` |
| 验证结果 | `python verify_results.py` |
| 启动Web | `streamlit run web_interface.py` |
| 定时任务 | `python scheduler.py --mode start` |

---

## 查询示例

### SQL查询（SQLite）

```sql
-- 连接数据库
sqlite3 data/stock_limit.db

-- 查询某日所有3板以上股票
SELECT l.code, s.name, l.chain_height 
FROM limit_analysis_result l
LEFT JOIN stock_meta s ON l.code = s.code
WHERE l.date = '20240115' AND l.chain_height >= 3
ORDER BY l.chain_height DESC;

-- 查询某股票历史最高连板
SELECT MAX(chain_height) as max_chain
FROM limit_analysis_result
WHERE code = '300059';
```

---

## 项目结构

```
stock.cursor/
├── 📝 文档
│   ├── README.md              # 项目说明
│   ├── 快速开始.md            # 本文档
│   ├── 使用指南.md            # 详细文档
│   └── 项目总结.md            # 技术总结
│
├── ⚙️ 配置
│   ├── config.py              # 配置文件
│   ├── requirements.txt       # 依赖列表
│   └── .gitignore             # Git忽略
│
├── 🔧 核心模块
│   ├── database.py            # 数据库操作
│   ├── data_fetcher.py        # 数据获取
│   ├── limit_calculator.py    # 连板算法
│   ├── batch_processor.py     # 批量处理
│   └── backfill_manager.py    # 历史回填
│
├── 📱 应用层
│   ├── main.py                # 主入口
│   ├── query_api.py           # 查询API
│   ├── web_interface.py       # Web界面
│   ├── scheduler.py           # 定时任务
│   └── verify_results.py      # 结果验证
│
└── 🚀 启动脚本
    ├── run_mvp.bat            # Windows快速启动
    └── run_mvp.sh             # Linux/Mac快速启动
```

---

## 故障排查

### 问题1: 提示"未找到akshare模块"

**解决**:
```bash
pip install -r requirements.txt
```

---

### 问题2: 数据获取失败

**原因**: 网络问题或AkShare限流

**解决**:
1. 检查网络连接
2. 增加请求间隔：修改`config.py`中的`FETCH_SLEEP_INTERVAL = 1.0`
3. 稍后重试

---

### 问题3: 数据库文件在哪？

**位置**: `data/stock_limit.db`

**查看方式**:
- 使用SQLite工具
- 使用Web界面
- 使用Python API

---

## 下一步建议

✅ **完成MVP后**：
1. 查看Web界面，熟悉功能
2. 尝试查询API
3. 阅读`使用指南.md`了解更多功能

🚀 **投入生产使用**：
1. 运行全量历史回填
2. 启动定时调度器
3. 根据需求自定义配置

📊 **深度分析**：
1. 导出数据到Excel分析
2. 编写自定义查询脚本
3. 开发量化策略

---

## 获取帮助

📖 **文档**:
- 详细使用: `使用指南.md`
- 技术细节: `项目总结.md`
- 代码注释: 查看各模块源码

🔧 **调试**:
- 查看日志文件: `scheduler.log`
- 运行验证脚本: `verify_results.py`
- 使用测试模式: `python main.py --mode test`

---

**祝使用愉快！** 📈
